{"version":3,"sources":["map_ciclovia.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ciclovia.js","sourcesContent":["var geocoder = new google.maps.Geocoder();\r\nfunction initialize_ciclovia() {\r\n  var gdl = { lat: 20.659699, lng: -103.349609 };\r\n  var zap = { lat: 20.666196, lng: -103.314743 };\r\n  \r\n  var map = new google.maps.Map(document.getElementById('map'), {\r\n    zoom: 12,\r\n    center: gdl\r\n  });\r\n\r\n  // Add two markers at the center of the map.\r\n  addMarker(gdl, map, \"A\", \"markerFrom\");\r\n  addMarker(zap, map, \"B\",\"markerTo\");\r\n  getAddress(gdl, 'markerFromAddress');\r\n  getAddress(zap, 'markerToAddress');\r\n}\r\n\r\nfunction handleEvent(event) {\r\n  var idMarker=this.myData;\r\n  \r\n  document.getElementById(idMarker+'Lat').value = event.latLng.lat();\r\n  document.getElementById(idMarker+'Lang').value = event.latLng.lng();\r\n  document.getElementById(idMarker+'Address').value = event.formatted_address;\r\n\r\n  getAddress(event.latLng, idMarker+'Address');\r\n  \r\n}\r\n\r\nfunction clickMarker(event) {\r\n  var idMarker=this.myData;\r\n  getAddress(event.latLng, idMarker+'Address');\r\n}\r\n\r\n// Adds a marker to the map.\r\nfunction addMarker(location, map, name,id) {\r\n  var marker = new google.maps.Marker({\r\n    position: location,\r\n    label: name,\r\n    map: map,\r\n    draggable: true,\r\n    title: \"Marcador \",\r\n    myData: id,\r\n    animation: google.maps.Animation.DROP\r\n  });\r\n\r\n  //marker.addListener('drag', handleEvent);\r\n  marker.addListener('dragend', handleEvent);\r\n  marker.addListener('click', clickMarker);\r\n}\r\n\r\n//Get address string\r\nfunction getAddress(latLng, idInput)\r\n{\r\n  geocoder.geocode({\r\n    latLng: latLng\r\n  }, function(responses) {\r\n    if (responses && responses.length > 0) {      \r\n      document.getElementById(idInput).value = responses[0].formatted_address;\r\n    } else {\r\n      document.getElementById(idInput).value = 'Cannot determine address at this location.';\r\n    }\r\n  });\r\n}\r\n\r\ngoogle.maps.event.addDomListener(window, 'load', initialize_ciclovia);"]}