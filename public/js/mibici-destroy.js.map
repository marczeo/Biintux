{"version":3,"sources":["mibici-destroy.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"mibici-destroy.js","sourcesContent":["var map;\r\nvar geocoder;\r\nvar stepDisplay;\r\n\r\nvar idMarker; // TO DELETE\r\n\r\nfunction initialize() \r\n{\r\n  var myLatLng = new google.maps.LatLng( 20.67, -103.349609);\r\n\r\n  var mapOptions = \r\n  {\r\n\r\n    zoom: 13,\r\n    center: myLatLng,\r\n    disableDoubleClickZoom: true,\r\n    mapTypeId: google.maps.MapTypeId.TERRAIN,\r\n    styles: [\r\n      {\r\n        \"featureType\": \"poi\",\r\n        stylers: [\r\n          { hue: \"#FF9E52\" },\r\n          { saturation: 60 },\r\n          { lightness: -20 },\r\n          { gamma: 1.51 }\r\n        ]\r\n      }\r\n    ]\r\n    \r\n  };\r\n\r\n  map = new google.maps.Map(document.getElementById('map'), mapOptions);\r\n  geocoder = new google.maps.Geocoder();\r\n  stepDisplay = new google.maps.InfoWindow();\r\n\r\n    $.ajax(\r\n    {\r\n        url : '/getAll',\r\n        type: \"GET\",\r\n        success:function(data) \r\n        {\r\n          console.log(data);\r\n          data.forEach(function(item)\r\n          {\r\n              var myLatLng = new google.maps.LatLng(item.latitude,item.longitude);\r\n\r\n              var marker = new google.maps.Marker\r\n              ({\r\n                position: myLatLng,\r\n                icon: '/images/mibici.svg',\r\n                label: \"\",\r\n                map: map,\r\n                draggable: false,\r\n                title: item.description,\r\n                myData: item.id,\r\n                //animation: google.maps.Animation.DROP,\r\n                \r\n              });\r\n\r\n              google.maps.event.addListener(marker, \"dblclick\", function (event) \r\n              {\r\n                var latitude = this.position.lat();\r\n                var longitude = this.position.lng();\r\n\r\n                getAddress(this.position, this.title);\r\n\r\n                map.setCenter(this.getPosition());\r\n                map.setZoom(16);\r\n\r\n                idMarker = this.myData;\r\n                document.getElementById('id').value = idMarker;\r\n\r\n                //alert(idMarker);\r\n\r\n              });\r\n          }\r\n          );\r\n        },\r\n        error: function(jqXHR, textStatus, errorThrown) \r\n        {\r\n            //if fails      \r\n        }\r\n    });\r\n}\r\n\r\nfunction getAddress(latLng, title)\r\n{\r\n  //alert(latLng);\r\n  geocoder.geocode\r\n  ({\r\n    latLng: latLng\r\n  }, \r\n  function(responses) \r\n  {\r\n    if (responses && responses.length > 0)\r\n    {      \r\n      document.getElementById('markerFromAddress').value = responses[0].formatted_address;\r\n      document.getElementById('name').value = title;\r\n    }\r\n    else\r\n    {\r\n      document.getElementById('markerFromAddress').value = 'Cannot determine address at this location.';\r\n    }\r\n  });\r\n}\r\n\r\n\r\ngoogle.maps.event.addDomListener(window, 'load', initialize);\r\n\r\n"]}